# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type User {
  id: ID!
  email: String!
  password: String!
  lastLogin: DateTime
  profilePicture: String
  createdAt: DateTime!
  updatedAt: DateTime!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type SignInOutput {
  token: String!
  user: User!
}

type Employee {
  id: ID!
  userId: ID
  type: EmployeesTypes
  routes: [Route!]!
  personalData: PersonalData!
}

enum EmployeesTypes {
  LIAISON_EXECUTIVE
  LOAN_LEAD
}

type Phone {
  id: ID!
  number: String!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Address {
  id: ID!
  street: String!
  exteriorNumber: String
  interiorNumber: String!
  postalCode: String!
  references: String
}

type PersonalData {
  id: ID!
  fullName: String!
  firstName: String!
  lastName: String!
  createdAt: DateTime!
  updatedAt: DateTime!
  phones: [Phone!]!
  addresses: [Address!]!
}

type Route {
  id: ID!
  name: String!
  locations: [Location!]!
}

type Location {
  id: ID!
  name: String!
  leads: [Employee!]!
}

type Borrower {
  id: ID!
  email: String
  createdAt: DateTime!
  updatedAt: DateTime!
  loanFinishedCount: Int!
  personalDataId: String!
  grantorId: String
  grantor: Employee!
  personalData: PersonalData!
}

type PaymentSchedule {
  id: ID!
  numeration: Int!
  amountToPay: Decimal!
  paidAmount: Decimal!
  returnToCapital: Decimal!
  profit: Decimal!
  status: PaymentState!
  delayed: Boolean!
  dueDate: DateTime!
  details: String
  createdAt: DateTime!
  updatedAt: DateTime!
  loanId: String!
}

"""An arbitrary-precision Decimal type"""
scalar Decimal

enum PaymentState {
  PENDING
  PAID_OUT
  PARTIALLY_PAID
}

type LoanType {
  id: ID!
  name: String!
  weekDuration: Int!
  rate: Float!
  weeksToRenew: Int!
  overdueRate: Float!
  initialAmount: Float!
  maximunAmount: Float!
  amountToIncrease: Float!
  increaseEveryNLoans: Int!
  availableFor: EmployeesTypes!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Loan {
  id: ID!
  status: LoanState!
  weeklyPaymentAmount: Decimal!
  previousAmountGived: Decimal
  amountGived: Decimal!
  amountToPay: Decimal!
  paidAmount: Decimal!
  pendingAmount: Decimal!
  renovationProfitAmount: Decimal!
  renovationPendingAmount: Decimal!
  baseProfitAmount: Decimal!
  totalProfitAmount: Decimal!
  loanType: LoanType!
  signDate: DateTime!
  finishedDate: DateTime
  createdAt: DateTime!
  updatedAt: DateTime!
  contractId: String!
  loantypeId: String!
  grantorId: String!
  paymentSchedule: [PaymentSchedule!]
  renovatedFromId: String
  paymentsSchedules: [PaymentSchedule!]!
  paymentSchedules: [PaymentSchedule!]!
  avals: PersonalData!
  grantor: Employee!
}

enum LoanState {
  REQUESTED
  IN_REVIEW
  APPROVED
  REJECTED
  PAID_OUT
  POSTPONED
}

type Query {
  hello: String!
  getRoutes(where: RouteWhereInput!): [Route!]!
  getEmployee(where: EmployeeWhereUniqueInput!): Employee!
  getBorrower(id: String!): Borrower!
  getBorrowers(where: EmployeeWhereInput): [Borrower!]!
}

input RouteWhereInput {
  name: String
}

input EmployeeWhereUniqueInput {
  id: ID!
}

input EmployeeWhereInput {
  locationId: ID
}

type Mutation {
  signIn(input: SignInInput!): SignInOutput!
  createLoanBulk(input: [LoanCreateInput!]!): [Loan!]!
}

input SignInInput {
  email: String!
  password: String!
}

input LoanCreateInput {
  firstPaymentDate: Date!

  """Previos loanId. This apply when is a renovation"""
  renovatedFromId: String
  borrowerId: String!
  loanLeadId: String!
  amountGived: Decimal
  loanTypeId: String!
  signDate: Date
  avals: [CreateAvalInput!]
  grantorId: String
}

"""
A date string, such as 2007-12-03, compliant with the `full-date` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar Date

input CreateAvalInput {
  avalId: String
  newAval: CreatePersonalDataInput
}

input CreatePersonalDataInput {
  fullName: String!
  firstName: String!
  lastName: String!
  phones: [CreatePhoneInput!]!
  Adresses: [CreateAddressInput!]!
}

input CreatePhoneInput {
  number: String!
}

input CreateAddressInput {
  street: String!
  exteriorNumber: String
  interiorNumber: String!
  postalCode: String!
  references: String
}